<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SensibleJS</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
<div class="px-8 py-12 max-w-6xl m-auto">
    <div class="relative bg-white ">
        <div class="absolute inset-0">
            <div class="absolute inset-y-0 left-0 w-1/2 bg-gray-50"></div>
        </div>
        <div class="bg-white shadow sm:rounded-lg">
            <div class="px-4 py-5 sm:p-6">
                <h3 class="text-lg leading-6 font-medium text-gray-900">
                    SensibleJS
                </h3>
                <div class="mt-2 max-w-xl text-sm leading-5 text-gray-500">
                    <p>
                        A super lightweight sensible tool (DO NOT USE IN PRODUCTION YET!)
                    </p>
                </div>
            </div>
        </div>
        <div class="relative mx-auto max-w-7xl lg:grid lg:grid-cols-5">
            <div class="px-4 py-16 bg-gray-50 sm:px-6 lg:col-span-2 lg:px-8 lg:py-4 xl:pr-12">
                <div class="max-w-lg mx-auto">
                    <div class="py-2 px-2 text-2xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-3xl sm:leading-9">
                        <img s-bind="profileData.picture">
                    </div>
                    <div s-css="background-color: [[myTitle.length >= 5 ? 'green' : 'red']]" s-bind="customTitle" value="test" s-callback="console.log('custom title');"></div>
                    <div s-css="background-color: backgroundColor; color: titleColor" class="py-2 px-2 text-2xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-3xl sm:leading-9" s-bind="myTitle"
                            s-if="show">
                        My Title is: [[ myTitle ]]
                    </div>
                    <div>
                        <div class="mt-3 text-lg leading-6 text-gray-500">
                            <label for="titleColor">Select title text color:</label>
                            <input type="color" id="titleColor" name="titleColor" s-bind="titleColor" class="shadow-md" s-css="width: `${total}px`; height: `${total}px`">
                        </div>
                    </div>
                    <div>
                        <div class="mt-3 text-lg leading-6 text-gray-500 mb-3">
                            <label for="backgroundColor">Select title background color:</label>
                            <input type="color" id="backgroundColor" name="backgroundColor" s-bind="backgroundColor" class="shadow-md" s-css="width: `${total}px`; height: `${total}px`">
                        </div>
                    </div>
                    <div class="shadow-md flex content-center px-5 py-3 bg-blue-100" s-if="fullName.length > 0">
                        <p>Hello&nbsp;
                        <h1 s-bind="fullName">[[ `${fullName}` ]]</h1></p>
                    </div>
                    <div class="shadow-md flex content-center px-5 py-3 bg-blue-100" s-if="email != ''">
                        <p>Your email is &nbsp;
                        <h1 s-bind="email"></h1></p>
                    </div>
                    <div class="shadow-md flex content-center px-5 py-3 bg-blue-100" s-if="birthDate != ''">
                        <p>Your birthday &nbsp;
                        <h1 s-bind="birthDate"></h1></p>
                    </div>
                    <div class="shadow-md flex content-center px-5 py-3 bg-blue-100" s-if="birthDateTime != ''">
                        <p>Your birthday time &nbsp;
                        <h1 s-bind="birthDateTime"></h1></p>
                    </div>
                    <div class="shadow-md flex content-center px-5 py-3 bg-blue-100" s-if="phone != ''">
                        <p>Your phone is &nbsp;
                        <h1 s-bind="phone"></h1></p>
                    </div>
                    <div class="shadow-md flex content-center px-5 py-3 bg-blue-100" s-if="gender != ''">
                        <p>Your are: &nbsp;
                        <h1 s-bind="gender"></h1></p>
                    </div>
                    <div class="shadow-md flex content-center px-5 py-3 bg-blue-100" s-if="message != ''">
                        <p>Your message: &nbsp;
                        <h1 s-bind="message"></h1></p>
                    </div>
                    <div class="mt-3 text-lg leading-6 text-gray-500">
                        <input id="checkbox" s-bind="show" type="checkbox"/><label class="px-4" for="checkbox">Show title</label>
                    </div>
                    <div class="mt-3 mb-4 text-lg leading-6 text-gray-500">
                        Total: <span s-bind="total">[[total]]</span>
                    </div>
                    <div class="inline-flex justify-center mt-3 mb-4 text-lg leading-6 text-gray-500">
                        <button class="px-6 py-3 text-base font-medium leading-6 text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700"
                                onclick="total++">
                            Incease total
                        </button>
                    </div>
                    <button class="px-6 py-3 text-base font-medium leading-6 text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700"
                            onclick="total--">
                        Decrease total
                    </button>
                    <!-- s-bind example-->
                    <div s-bind="fullName"></div>
                    <div s-bind="">Phone: [[phone]]</div>
                    <p s-bind="">Gender: [[gender]]</p>
                    <!-- s-bind example -->
                    <div class="mt-3 text-lg leading-6 text-gray-500">
                        <p s-bind="selectedOption">Selected option [[ parseInt(selectedOption) ]] </p>
                    </div>
                    <div class="mt-3 text-lg leading-6 text-gray-500">
                        Open up the console and change the <tt>myTitle</tt>
                        and <tt>total</tt> variables to see them being sensed like magic!
                    </div>
                    <div class="mt-3 text-lg leading-6 text-gray-500">
                        Records:
                        <div class="container flex mx-auto w-full items-center justify-center">
                            <ul s-if="results.length > 0" class="flex flex-col bg-gray-300 p-4 w-full" id="results_parent">
                                <li s-for="result of results" s-key="result.email" s-bind="results" class="border-gray-400 flex flex-row mb-2">
                                    <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                                        <div class="flex-1 pl-1 mr-16">
                                            <div class="font-medium">[[index + 1]] . [[ result.fullName]]</div>
                                            <div class="text-gray-600 text-sm">[[ result.email]]</div>
                                        </div>
                                        <div class="text-gray-600 text-xs">[[result.phone]]</div>
                                        <div class="flex flex-col rounded-md w-5 h-5 bg-gray-300 justify-center items-center mr-1">
                                            <a href="#" onclick="removeItem(this)">ðŸ—‘</a></div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="px-4 py-16 bg-white sm:px-6 lg:col-span-3 lg:py-4 lg:px-8 xl:pl-12 bg-gray-200">
                <div class="max-w-lg mx-auto lg:max-w-none">
                    <form action="#" class="grid grid-cols-1 row-gap-6" method="POST">
                        <div>
                            <label class="sr-only" for="full_name">Title</label>
                            <div class="relative rounded-md shadow-sm">
                                <input class="block w-full px-4 py-3 placeholder-gray-500 rounded transition duration-150 ease-in-out form-input" id="title"
                                        placeholder="Title"
                                        s-bind="myTitle" s-blur/>
                            </div>
                        </div>
                        <div>
                            <label class="sr-only" for="full_name">Full name</label>
                            <div class="relative rounded-md shadow-sm">
                                <input class="block w-full px-4 py-3 placeholder-gray-500 transition duration-150 ease-in-out form-input" id="full_name"
                                        placeholder="Full name"
                                        s-bind="fullName" s-blur/>
                            </div>
                        </div>
                        <div>
                            <label class="sr-only" for="email">Email</label>
                            <div class="relative rounded-md shadow-sm">
                                <input class="block w-full px-4 py-3 placeholder-gray-500 transition duration-150 ease-in-out form-input" id="email" placeholder="Email"
                                        s-bind="email"
                                        type="email"/>
                            </div>
                        </div>
                        <div>
                            <label for="birthday">Birthday:</label>
                            <input s-bind="birthDate" type="date" id="birthday" name="birthday" class="block w-full px-4 py-3 placeholder-gray-500 transition duration-150 ease-in-out form-input">
                        </div>
                        <div>
                            <label for="birthday">Birthday and time:</label>
                            <input s-bind="birthDateTime" type="datetime-local" id="birthdaytime" name="birthday" class="block w-full px-4 py-3 placeholder-gray-500 transition duration-150 ease-in-out form-input">
                        </div>
                        <div>
                            <label class="sr-only" for="phone">Phone</label>
                            <div class="relative rounded-md shadow-sm">
                                <input class="block w-full px-4 py-3 placeholder-gray-500 transition duration-150 ease-in-out form-input" id="phone"
                                        placeholder="Phone"
                                        s-bind="phone"/>
                            </div>
                        </div>
                        <div>
                            <label class="sr-only" for="phone">Load Image</label>
                            <div class="relative rounded-md shadow-sm">
                                <img s-bind="photo">
                                <input class="block w-full px-4 py-3 placeholder-gray-500 transition duration-150 ease-in-out form-input mb-3" id="image"
                                        placeholder="Image url"
                                        s-bind="photo" s-blur/>
                            </div>
                        </div>
                        <div>
                            <div class="mt-3 text-lg leading-6 text-gray-500">
                                <p>Please select your gender:</p>
                                <input id="male" name="gender" s-bind="gender" type="radio" value="male">
                                <label for="male">Male</label><br>
                                <input id="female" name="gender" s-bind="gender" type="radio" value="female">
                                <label for="female">Female</label><br>
                                <input id="other" name="gender" s-bind="gender" type="radio" value="other">
                                <label for="other">Other</label>
                            </div>
                        </div>
                        <div>
                            <label class="sr-only" for="message">Message</label>
                            <div class="relative rounded-md shadow-sm">
                                    <textarea class="block w-full px-4 py-3 placeholder-gray-500 transition duration-150 ease-in-out form-input" id="message" placeholder="Message"
                                            rows="4"
                                            s-bind="message"></textarea>
                            </div>
                        </div>
                        <div class="">
                            <!--                            <span class="inline-flex rounded-md shadow-sm">-->
                            <!--                                <button onclick="resetAll()" class="inline-flex justify-center px-6 py-3 text-base font-medium leading-6 text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700"-->
                            <!--                                        type="button">Reset Data</button></span>-->
                            <span class="inline-flex rounded-md shadow-sm">
                                    <button onclick="addRecord()" class="inline-flex justify-center px-6 py-3 text-base font-medium leading-6 text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700"
                                            type="button">Add record</button></span>
                        </div>
                        <div class="mt-3 text-lg leading-6 text-gray-500">
                            <label for="options">Select option: </label>
                            <select id="options" s-bind="selectedOption" class="form-select">
                                <option value="1">Option 1</option>
                                <option value="2">Option 2</option>
                                <option value="3">Option 3</option>
                                <option value="4">Option 4</option>
                            </select>
                        </div>
                        <div class="mt-3 text-lg leading-6 text-gray-500">
                            <label for="options2">Select option using data source: </label>
                            <select id="options2" s-bind="selectedOption" class="form-select">
                                <option s-for="availableOption of availableOptions" value="[[availableOption.id]]">[[ availableOption.name ]]</option>
                            </select>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="sensible.js"></script>
<script>
    function increase() {
        total++;
    }

    function removeItem(item) {
        this.event.preventDefault();
        let index = item.closest('[s-key-value]').getAttribute('s-key-value')
        results.splice(index, 1);
    }

    let store = {
        persist: true,
        localPrefix: '__',
        // Data definitions.
        data: {
            results: {
                type: Array,
                persist: true,
            },
            availableOptions: {
                type: Array,
                default: [
                    {id: 1, name: 'Option 1'},
                    {id: 2, name: 'Option 2'},
                    {id: 3, name: 'Option 3'},
                    {id: 4, name: 'Option 4'},
                    {id: 5, name: 'Option 5'},
                ]
            },
            show: {
                type: Boolean,
                default: true,
                persist: true /** persist: true(default)|false */
            },
            myTitle: {
                type: String,
                default: 'This is the default title',
                persist: true,
                callBack: executeMe
            },
            total: {
                type: Number,
                default: 50
            },
            selectedOption: {
                type: Number,
                default: 1
            },
            fullName: {
                type: String,
                default: 'Your name here',
                callBack: showDialog
            },
            email: {
                type: String,
                default: 'example@example.com',
                callBack: function () {
                    console.log(this)
                }
            },
            profileData: {
                type: Object,
                default: {fullName: 'Ricardo Aponte', picture: 'https://source.unsplash.com/random/100x50'},
                persist: false,
                callBack: showMemberModal
            },
            phone: {type: String, default: '123-45678'},
            message: {type: String, default: 'This is a message'},
            gender: {type: String, default: 'male'},
            titleColor: {type: String, default: '#FFFFFF'},
            backgroundColor: {type: String, default: '#5a67d8'},
            birthDate: {type: String, default: '1969-08-16'},
            birthDateTime: {type: String, default: '1969-08-16T20:00'},
            photo: {type: String, default: 'https://source.unsplash.com/random/800x600'},
        },
    };

    sensible(store);

    function executeMe() {
        console.log('Execute!');
    }

    function showMemberModal() {
        console.log('Show');
    }

    function addRecord() {
        results.push({fullName: fullName, email: email, phone: phone});
    }

    function showDialog() {
        console.log(this);
        //alert(this);
    }

    document.addEventListener("DOMContentLoaded", function (event) {
        // setInterval(function() {
        //     title = new Date();
        // }, 1000);
    });
</script>
</body>
</html>
